(()=>{"use strict";var e={978:(e,t,r)=>{e.exports=r.p+"assets/6c6418ccab205deed2c4.jpg"},837:(e,t,r)=>{e.exports=r.p+"assets/c817d8c4b79937f17bd9.jpg"},182:(e,t,r)=>{e.exports=r.p+"assets/468d3459ca61a9fecc68.jpg"},881:(e,t,r)=>{e.exports=r.p+"assets/8ebc72ac252748aa6576.jpg"},232:(e,t,r)=>{e.exports=r.p+"assets/f65c26aa079c57be0233.jpg"},856:(e,t,r)=>{e.exports=r.p+"assets/4406268ae4f1d0512891.jpg"},178:(e,t,r)=>{e.exports=r.p+"assets/6dcd20226af4eb530f1a.jpg"},836:(e,t,r)=>{e.exports=r.p+"assets/439e6f21eb5dbb53e29a.jpg"},989:(e,t,r)=>{e.exports=r.p+"assets/57ee6a43bc954e28f998.jpg"}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{const e={productList:document.getElementById("product-list"),counterInBasket:document.getElementById("basket-counter"),searchInput:document.getElementById("search-input"),select:document.getElementById("main-select"),resetFiltersButton:document.getElementById("filter-reset-filters"),resetSettingsButton:document.getElementById("filter-reset-settings"),clearSearchButton:document.getElementById("button-search-clear")},t=r(978),n=r(837),a=r(182),o=r(881),c=r(232),l=r(856),s=[{id:1,productName:"Spyderco Endura",producer:"Spyderco",stock:4,country:"Japan",bladeMaterial:"VG-10",year:2013,popular:"Да",price:15e3,image:r(178)},{id:2,productName:"FOX Karambit",producer:"FOX",stock:2,country:"Italy",bladeMaterial:"Elmax",year:2015,popular:"Нет",price:33e3,image:l},{id:3,productName:"Spyderco Matriarch",producer:"Spyderco",stock:9,country:"Japan",bladeMaterial:"VG-10",year:2020,popular:"Да",price:18e3,image:r(836)},{id:4,productName:"Boker Pocket Smatchet",producer:"Boker",stock:1,country:"Germany",bladeMaterial:"VG-10",year:2019,popular:"Нет",price:8e3,image:n},{id:5,productName:"Boker Tenshi",producer:"Boker",stock:6,country:"Germany",bladeMaterial:"VG-10",year:2019,popular:"Да",price:1e4,image:o},{id:6,productName:"Spyderco Pingo",producer:"Spyderco",stock:8,country:"Italy",bladeMaterial:"Elmax",year:2018,popular:"Нет",price:3e4,image:r(989)},{id:7,productName:"Boker Aphex",producer:"Boker",stock:9,country:"Germany",bladeMaterial:"VG-10",year:2021,popular:"Да",price:14e3,image:t},{id:8,productName:"Boker Subcom",producer:"Boker",stock:7,country:"Germany",bladeMaterial:"VG-10",year:2019,popular:"Да",price:6e3,image:a},{id:9,productName:"FOX FX-528",producer:"FOX",stock:4,country:"Italy",bladeMaterial:"Elmax",year:2018,popular:"Да",price:23e3,image:c}];class i{static createProductСard(e){return`\n        <li class="product" data-product-id="${e.id}">\n              <img src="${e.image}" alt="knife image" class="product__img">\n              <h3 class="product__headling">${e.productName}</h3>\n              <ul class="product__features">\n                <li class="product__property">Производитель: <span>${e.producer}</span></li>\n                <li class="product__property">Страна: <span>${e.country}</span></li>\n                <li class="product__property">На складе: <span>${e.stock}</span></li>\n                <li class="product__property">Материал клинка: <span>${e.bladeMaterial}</span></li>\n                <li class="product__property" >Год выпуска: <span data-year="year">${e.year}</span></li>\n                <li class="product__property">Популярный: <span>${e.popular}</span></li>\n                <li class="product__property">Цена: <span>${e.price} ₽</span></li>\n              </ul>\n              <div class="product__buttons">\n                <button class="button" data-action="add" id="product-button">Купить</button>\n                <button class="button button_colored" id="product-button" data-action="remove">Убрать</button>\n                <div class="product__in-basket">0</div>\n              </div>\n            </li>\n        `}static createProductListHTML(e){let t="";return e.forEach((e=>t+=i.createProductСard(e))),t}}const u={"name ascending order":e=>{e.sort(((e,t)=>d(e)>d(t)?1:d(e)<d(t)?-1:0))},"name descending order":e=>{e.sort(((e,t)=>d(e)>d(t)?-1:d(e)<d(t)?1:0))},"year ascending order":e=>{e.sort(((e,t)=>p(e)-p(t)))},"year descending order":e=>{e.sort(((e,t)=>p(t)-p(e)))}};function d(e){const t=e.querySelector(".product__headling");return t?t.innerHTML:""}function p(e){const t=e.querySelector("[data-year='year']");return t?+t.innerHTML:0}function y(e,t,r){const n=+t.max-+t.min,a=(+t.value-+t.min)/n*100,o=(+r.value-+t.min)/n*100;e.style.background=`linear-gradient(to right, #dadae5 ${a}% , #141414 ${a}% , #141414 ${o}%, #dadae5 ${o}%)`}function g(){e.searchInput.value="",e.searchInput.focus()}function f(){const t=b("country").filter((e=>b("producer").includes(e)&&b("bladeMaterial").includes(e)&&_("year").includes(e)&&_("price").includes(e)&&_("stock").includes(e)&&function(){const e=document.querySelector('[data-filter-type="popular"]'),t=s.filter((e=>"Да"===e.popular));return e.classList.contains("checked")?t:s}().includes(e)));0!==t.length?(e.productList.innerHTML=i.createProductListHTML(t),k(e.productList,e.select.value),S(),function(){const t=e.searchInput.value;if(0===t.length)return;const r=new RegExp(t,"i"),n=e.productList.children;for(let e=0;e<n.length;e++)n[e].querySelector(".product__headling").textContent.match(r)||(n[e].remove(),e--);0===n.length&&m()}()):m()}function m(){e.productList.innerHTML='<p class="product-list__no-matches-text">Извините, совпадений не обнаружено.</p>'}function S(){const t=localStorage.getItem("LocalStoragePurchasesInfo"),r=JSON.parse(t);for(const t of Object.keys(r)){if("basket"===t)continue;const n=e.productList.querySelector(`[data-product-id="${t}"]`).querySelector(".product__in-basket");n.textContent=r[t].toString(),n.classList.add("product__in-basket_colored")}e.counterInBasket.textContent=r.basket.toString()}function b(e){const t=document.querySelector(`[data-filter-type="${e}"]`).querySelectorAll(".checked");if(0===t.length)return s;const r=Array.from(t).map((e=>e.dataset.text));return s.filter((t=>r.includes(`${t[e]}`)))}function _(e){const t=document.querySelector(`[data-filter-type="${e}"]`),r=t.querySelector('[data-slider-number="1"]'),n=t.querySelector('[data-slider-number="2"]');return r.value===r.min&&n.value===n.max?s:s.filter((t=>t[e]>=+r.value&&t[e]<=+n.value))}function v(){document.querySelectorAll(".filter__label").forEach((e=>e.classList.remove("checked"))),document.querySelectorAll(".filter__wrapper").forEach((e=>{const t=e.querySelector(".filter__input-track"),r=e.querySelector('[data-range-value="1"]'),n=e.querySelector('[data-range-value="2"]'),a=e.querySelector('[data-slider-number="1"]'),o=e.querySelector('[data-slider-number="2"]');r.textContent=a.value=a.min,n.textContent=o.value=o.max,t.style.background="#141414"})),e.productList.innerHTML=i.createProductListHTML(s),k(e.productList,e.select.value)}function k(e,t){const r=function(e,t){const r=Array.from(e.querySelectorAll(".product"));return""===t||u[t](r),r}(e,t);e.innerHTML="",e.append(...r)}function h(){localStorage.setItem("localStorageFiltersInfo",JSON.stringify({filterByType:[],filterByRangeValue:{stock:[],year:[],price:[]},sortType:""})),localStorage.setItem("LocalStoragePurchasesInfo",JSON.stringify({basket:0}))}const L=document.querySelectorAll(".filter__label"),I=document.querySelectorAll(".filter__input-range"),q=document.querySelectorAll(".filter__title");e.select.addEventListener("change",(t=>function(t){!function(t){const r=t.target;k(e.productList,r.value)}(t),function(e){const t=e.target,r=localStorage.getItem("localStorageFiltersInfo"),n=JSON.parse(r);n.sortType=t.value,localStorage.setItem("localStorageFiltersInfo",JSON.stringify(n))}(t)}(t))),e.productList.addEventListener("click",(t=>function(t){const r=t.target;r.closest("#product-button")&&function(t){const r=t.closest("#product-button"),n=t.closest(".product__buttons").querySelector(".product__in-basket");switch(r.dataset.action){case"add":if(20==+e.counterInBasket.innerHTML)return void alert("Извините, все слоты заполнены");n.innerHTML=""+(+n.innerHTML+1),e.counterInBasket.innerHTML=""+(+e.counterInBasket.innerHTML+1);break;case"remove":0!=+n.innerHTML&&(n.innerHTML=""+(+n.innerHTML-1),e.counterInBasket.innerHTML=""+(+e.counterInBasket.innerHTML-1))}+n.innerHTML>0?n.classList.add("product__in-basket_colored"):n.classList.remove("product__in-basket_colored"),function(t){const r=t.closest(".product__buttons").querySelector(".product__in-basket").textContent,n=t.closest(".product").dataset.productId,a=localStorage.getItem("LocalStoragePurchasesInfo"),o=JSON.parse(a);0==+r?delete o[n]:o[n]=+r,o.basket=parseInt(e.counterInBasket.textContent),localStorage.setItem("LocalStoragePurchasesInfo",JSON.stringify(o))}(t)}(r)}(t))),e.clearSearchButton.addEventListener("click",(function(){g(),f()})),e.searchInput.addEventListener("input",(function(){f()})),L.forEach((e=>e.addEventListener("click",(e=>function(e){const t=e.target;t.classList.toggle("checked"),f(),function(e){const t=localStorage.getItem("localStorageFiltersInfo"),r=JSON.parse(t),n=e.dataset.text;r.filterByType.includes(n)?r.filterByType=r.filterByType.filter((e=>e!==n)):r.filterByType.push(e.dataset.text),localStorage.setItem("localStorageFiltersInfo",JSON.stringify(r))}(t)}(e))))),I.forEach((e=>e.addEventListener("input",(e=>function(e){!function(e){const t=e.target,r=t.closest(".filter__wrapper"),n=r.querySelector("[data-slider-number='1']"),a=r.querySelector("[data-slider-number='2']"),o=r.querySelector("[data-range-value='1']"),c=r.querySelector("[data-range-value='2']"),l=+n.step,s=r.querySelector(".filter__input-track");switch(t.dataset.sliderNumber){case"1":parseInt(a.value)-parseInt(n.value)<=l&&(n.value=""+(parseInt(a.value)-l)),o.textContent=n.value;break;case"2":parseInt(a.value)-parseInt(n.value)<=l&&(a.value=`${parseInt(n.value)+l}`),c.textContent=a.value}y(s,n,a)}(e),f(),function(e){const t=e.target,r=localStorage.getItem("localStorageFiltersInfo"),n=JSON.parse(r),a=t.closest(".filter"),o=a.dataset.filterType,c=a.querySelector('[data-slider-number="1"]'),l=a.querySelector('[data-slider-number="2"]');n.filterByRangeValue[o]=[c.value,l.value],localStorage.setItem("localStorageFiltersInfo",JSON.stringify(n))}(e)}(e))))),q.forEach((e=>e.addEventListener("click",(e=>function(e){let t=e.target;t=t.closest(".filter__title"),function(e){e.nextElementSibling.classList.toggle("collapse_hidden")}(t),function(e){e.querySelector(".filter__title-button").classList.toggle("title-button_rotate")}(t)}(e))))),e.resetFiltersButton.addEventListener("click",(function(){g(),v(),S()})),e.resetSettingsButton.addEventListener("click",(function(){g(),v(),h(),S()})),window.addEventListener("load",(function(){e.productList.innerHTML=i.createProductListHTML(s),localStorage.getItem("localStorageFiltersInfo")?(function(){const t=localStorage.getItem("localStorageFiltersInfo"),r=JSON.parse(t);function n(e){const t=document.querySelector(`[data-filter-type="${e}"]`),n=t.querySelector(".filter__input-track"),a=r.filterByRangeValue[e];if(0===a.length)return;const o=t.querySelector('[data-range-value="1"]'),c=t.querySelector('[data-range-value="2"]'),l=t.querySelector('[ data-slider-number="1"]'),s=t.querySelector('[ data-slider-number="2"]');o.textContent=l.value=a[0],c.textContent=s.value=a[1],y(n,l,s)}e.select.value=r.sortType,r.filterByType.forEach((e=>{document.querySelector(`[data-text="${e}"]`).classList.add("checked")})),n("stock"),n("year"),n("price")}(),f()):h(),e.searchInput.focus()})),console.log('\nГлавная страница содержит все товары магазина а также фильтры, строку поиска, поле для сортировки. Выполняются требования к вёрстке +10\n\nКарточка товара содержит его изображение, название, количество данного товара на складе, год выхода на рынок, цвет, производитель и т.д., находится ли товар в корзине +10\nКарточки товаров добавляются динамически средствами JavaScript (на кросс-чеке этот пункт не проверяется)\n\nДобавление товаров в корзину +20\n    кликая по карточке с товаром или по кнопке на нем, товар можно добавлять в корзину или удалять. Карточки добавленных в корзину товаров внешне отличаются от остальных +10\n    на странице отображается количество добавленных в корзину товаров. При попытке добавить в корзину больше 20 товаров, выводится всплывающее уведомление с текстом "Извините, все слоты заполнены" +10\n\nСортировка +20\nСортируются только те товары, которые в данный момент отображаются на странице\n    сортировка товаров по названию в возрастающем и убывающем порядке +10\n    сортировка товаров по году их выхода на рынок в возрастающем и убывающем порядке +10\n\nФильтры в указанном диапазоне от и до +30\n    фильтры по количеству +10\n    фильтры по году выпуска на рынок +10\n    для фильтрации в указанном диапазоне используется range slider с двумя ползунками. При перемещении ползунков отображается их текущее значение, разный цвет слайдера до и после ползунка +10\n\nФильтры по значению +30\nДля нескольких фильтров одного типа отображаются товары, которые соответствуют хоть одному выбранному фильтру.\nВыбранные фильтры выделяются стилем.\n    фильтры по производителю +5\n    фильтры по цвету +5\n    фильтры по размеру (в случае с Демо - по количеству камер) +5\n    можно отобразить только популярные товары +5\n    можно отфильтровать товары по нескольким фильтрам одного типа +10\n!!! Если для выбранной Вами тематики интернет-магазина указанные выше фильтры неактуальны, Вы можете добавить свои фильтры в зависмости от категории товара.\n \nМожно отфильтровать товары по нескольким фильтрам разного типа +20\nДля нескольких фильтров разного типа отображаются только те товары, которые соответствуют всем выбранным фильтрам.\nЕсли товаров, соответствующих всем выбранным фильтрам нет, на странице выводится уведомление в человекочитаемом формате.\n\nСброс фильтров +20\n    есть кнопка reset для сброса фильтров +10\nКнопка reset сбрасывает только фильтры, не влияя на порядок сортировки или товары, добавленные в избранное.\nПосле использования кнопки reset фильтры остаются работоспособными\n    при сбросе фильтров кнопкой reset, ползунки range slider сдвигаются к краям, значения ползунков возвращаются к первоначальным, range slider закрашивается одним цветом +10\n\nСохранение настроек в local storage +30\n    выбранные пользователем фильтры, порядок сортировки, добавленные в избранное товары сохраняются при перезагрузке страницы. Есть кнопка сброса настроек, которая очищает local storage +10\n\nПоиск +30\n    при открытии приложения курсор находится в поле поиска +2\n    автозаполнение поля поиска отключено (нет выпадающего списка с предыдущими запросами) +2\n    есть placeholder +2\n    в поле поиска есть крестик, позволяющий очистить поле поиска +2\n    если нет совпадения последовательности букв в поисковом запросе с названием товара, выводится уведомление в человекочитаемом формате +2\n    при вводе поискового запроса на странице остаются только те товары, в которых есть указанные в поиске буквы в указанном порядке. При этом не обязательно, чтобы буквы были в начале слова. Регистр символов при поиске не учитывается +10\nПоиск ведётся только среди товаров, которые в данный момент отображаются на странице.\n    если очистить поле поиска, на странице отображаются товары, соответствующие всем выбранным фильтрам и настройкам сортировки +10\n')})()})();